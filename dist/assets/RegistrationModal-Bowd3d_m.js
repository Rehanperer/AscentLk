import{r as l,j as e}from"./animations-Bk4dR1x9.js";import{X as N}from"./x-BmnPB6a-.js";import{c as g}from"./createLucideIcon-CuPKPbWF.js";import"./vendor-Cgg2GOmP.js";const j=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],w=g("circle-check-big",j),k=({isOpen:f,onClose:o,title:a="SECURE YOUR SPOT"})=>{const[n,i]=l.useState(!1),[p,c]=l.useState(!1),[m,d]=l.useState(null),u=async t=>{t.preventDefault(),i(!0),d(null);const x=new FormData(t.target),h={formType:a,fullName:x.get("fullName"),email:x.get("email"),submittedAt:new Date().toISOString()};try{const s=await fetch("https://ascent-forms-api.ascent2026s.workers.dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!s.ok){const r=await s.json().catch(()=>({})),b=r.details?`${r.error}: ${r.details}`:r.error||"Failed to submit. Please try again.";throw new Error(b)}c(!0),setTimeout(()=>{o(),setTimeout(()=>{c(!1),i(!1)},300)},3e3)}catch(s){d(s instanceof Error?s.message:"Something went wrong"),i(!1)}};return e.jsx("div",{className:`modal-overlay ${f?"open":""}`,onClick:t=>t.target===t.currentTarget&&o(),children:e.jsxs("div",{className:"modal-content angled-box relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#ff4655]"}),e.jsx("div",{className:"absolute top-4 right-4 text-white cursor-pointer hover:text-[#ff4655] transition-colors",onClick:o,children:e.jsx(N,{size:24})}),p?e.jsxs("div",{className:"success-message mt-4 text-center py-10",children:[e.jsx(w,{className:"text-[#ff4655] w-16 h-16 mx-auto mb-4"}),e.jsx("p",{className:"font-teko text-3xl text-white",children:"RECEIVED"}),e.jsx("p",{className:"text-sm opacity-70 font-mono",children:"We'll get in touch within 2 days."})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"font-teko text-4xl text-white mb-6 border-b border-white/10 pb-2 pl-4",children:a}),e.jsxs("form",{onSubmit:u,className:"flex flex-col gap-5 pl-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs uppercase tracking-widest mb-2 opacity-70 text-[#ff4655] font-bold",children:"Full Name"}),e.jsx("input",{type:"text",name:"fullName",required:!0,className:"vct-input interactive-element",placeholder:"Jett Windwalker"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs uppercase tracking-widest mb-2 opacity-70 text-[#ff4655] font-bold",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",required:!0,className:"vct-input interactive-element",placeholder:"agent@valorant.com"})]}),m&&e.jsx("p",{className:"text-[#ff4655] text-xs font-mono",children:m}),e.jsx("button",{type:"submit",disabled:n,className:"bg-[#ff4655] text-white py-3 font-teko text-xl font-bold angled-btn hover:bg-white hover:text-black transition-colors mt-4 interactive-element disabled:opacity-50 disabled:cursor-wait",children:n?"PROCESSING...":a==="WAITLIST"?"JOIN WAITLIST":a==="GENERAL INQUIRY"?"SEND INQUIRY":"CONFIRM REGISTRATION"})]})]})]})})};export{k as default};
